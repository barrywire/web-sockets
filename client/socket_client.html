<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Ruby WebSocket Client</title>
    <script src='https://cdn.tailwindcss.com'></script>
    <link rel='preconnect' href='https://fonts.googleapis.com'>
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
    <link href='https://fonts.googleapis.com/css2?family=Red+Hat+Display&display=swap' rel='stylesheet'>
    <!-- Add custom font to tailwind -->
    <script>
        tailwind.config({
            theme: {
                fontFamily: {
                    'sans': ['Red Hat Display', 'sans-serif']
                }
            }
        })
    </script>
</head>

<body>

    <h1 class='text-3xl text-center font-inter'>WebSocket Client</h1>

    <!-- Consume the message from the server -->
    <div class='text-center py-4'>
        <span>Message from client: <span>Hiyaa, Let the sink in!!!</span></span>
        <br />
        <span>Message from server: <span id='message'></span></span>
    </div>


    <script>
        var ex_socket = new WebSocket('ws://localhost:2345');
        ex_socket.onopen = function (event)
        {
            ex_socket.send('Hiyaa, Let that sync in!!!');
        };
        ex_socket.onmessage = function (event)
        {
            console.log('Message from server ', event.data);
        };

        // consume the message from the server
        ex_socket.onmessage = function (event)
        {
            document.getElementById('message').innerHTML = event.data;
        };
    </script>

</body>

</html>